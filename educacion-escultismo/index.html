<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Educación en el Movimiento Scout - Curso para Rovers</title>
    
    <!-- 
    ============================================
    CURSO SCOUT COMPLETO CON GOOGLE SHEETS
    Versión Final para GitHub Pages
    URL Script configurada y lista para usar
    ============================================
    -->
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding-bottom: 80px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .header h1 {
            color: #1a4b6b;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .header p {
            color: #666;
            font-size: 1.1em;
        }

        .sync-indicator {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #4CAF50;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            display: none;
            z-index: 3000;
            animation: pulse 2s infinite;
        }

        .sync-indicator.show {
            display: block;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .github-badge {
            position: fixed;
            bottom: 10px;
            left: 10px;
            background: #24292e;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8em;
            text-decoration: none;
        }

        .progress-container {
            background: #e0e0e0;
            border-radius: 20px;
            height: 30px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            border-radius: 20px;
        }

        .progress-text {
            position: absolute;
            width: 100%;
            text-align: center;
            line-height: 30px;
            color: #333;
            font-weight: bold;
        }

        .nav-menu {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .nav-btn {
            flex: 1;
            min-width: 100px;
            padding: 12px 8px;
            background: #f5f5f5;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            text-align: center;
        }

        .nav-btn:hover {
            background: #e8f5e9;
            border-color: #4CAF50;
            transform: translateY(-2px);
        }

        .nav-btn.active {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }

        .nav-btn.completed {
            background: #8BC34A;
            color: white;
            border-color: #8BC34A;
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .mobile-nav {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
            z-index: 1000;
            padding: 10px;
        }

        .mobile-nav select {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            background: white;
        }

        .content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .module {
            display: none;
            animation: fadeIn 0.5s;
        }

        .module.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .module h2 {
            color: #1a4b6b;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #4CAF50;
        }

        .module h3 {
            color: #2d5a87;
            margin: 25px 0 15px;
        }

        .module h4 {
            color: #333;
            margin: 20px 0 10px;
        }

        .module p {
            color: #555;
            margin-bottom: 15px;
            text-align: justify;
        }

        .module ul, .module ol {
            margin: 15px 0 15px 30px;
            color: #555;
        }

        .module li {
            margin-bottom: 10px;
        }

        .badge {
            display: inline-block;
            background: #ffc107;
            color: #333;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-bottom: 20px;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .data-privacy {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .mission-box {
            background: linear-gradient(135deg, #fff8e1, #ffecb3);
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            background: #f5f5f5;
            border-left: 4px solid #4CAF50;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }

        .method-elements {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .method-element {
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #ddd;
            transition: transform 0.3s;
        }

        .method-element:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: #4CAF50;
            outline: none;
        }

        .btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: all 0.3s;
            display: inline-block;
        }

        .btn:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .reflection-area {
            background: #fff8e1;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .reflection-area textarea {
            width: 100%;
            min-height: 100px;
            padding: 10px;
            border: 2px solid #ffc107;
            border-radius: 5px;
            font-family: inherit;
            resize: vertical;
        }

        .quiz-container {
            background: #f0f4f8;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .question {
            margin-bottom: 25px;
        }

        .question h4 {
            color: #1a4b6b;
            margin-bottom: 15px;
        }

        .option {
            display: block;
            padding: 12px;
            margin: 8px 0;
            background: white;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option:hover {
            background: #e8f5e9;
            border-color: #4CAF50;
        }

        .option.selected {
            background: #bbdefb;
            border-color: #2196F3;
        }

        .option.correct {
            background: #c8e6c9;
            border-color: #4CAF50;
        }

        .option.incorrect {
            background: #ffcdd2;
            border-color: #f44336;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-card h4 {
            font-size: 2em;
            margin-bottom: 5px;
            color: white;
        }

        .achievements {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .achievement {
            background: #e8f5e8;
            color: #2d5a2d;
            padding: 10px 15px;
            border-radius: 20px;
            border: 2px solid #4CAF50;
            font-size: 0.9em;
            opacity: 0.4;
            transition: all 0.3s;
        }

        .achievement.earned {
            opacity: 1;
            transform: scale(1.05);
            box-shadow: 0 3px 10px rgba(76, 175, 80, 0.3);
        }

        .certificate {
            background: linear-gradient(45deg, #ffffff, #f8f9fa);
            border: 3px solid #FFD700;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            position: relative;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        }

        .certificate h2 {
            color: #1a4b6b;
            margin-bottom: 20px;
        }

        .certificate h3 {
            color: #ffc107;
            font-size: 1.8em;
            margin: 20px 0;
        }

        .certificate-code {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 1.2em;
            margin: 25px auto;
            max-width: 400px;
            border: 2px dashed #999;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            animation: slideIn 0.3s;
            z-index: 2000;
            max-width: 300px;
        }

        @keyframes slideIn {
            from { transform: translateX(400px); }
            to { transform: translateX(0); }
        }

        @keyframes slideOut {
            from { transform: translateX(0); }
            to { transform: translateX(400px); }
        }

        .save-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #FF9800;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            display: none;
            z-index: 1000;
        }

        .save-indicator.show {
            display: block;
            animation: pulse 1s infinite;
        }

        .hidden {
            display: none !important;
        }

        /* Responsive para tablets y móviles */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 1.5em;
            }
            
            .nav-menu {
                display: none;
            }
            
            .mobile-nav {
                display: block;
            }
            
            .content {
                padding: 20px;
                border-radius: 10px;
            }
            
            .method-elements {
                grid-template-columns: 1fr;
            }
            
            .stats {
                grid-template-columns: 1fr;
            }
            
            .certificate {
                padding: 20px;
            }

            .github-badge {
                display: none;
            }
        }

        /* Estilos para impresión */
        @media print {
            body {
                background: white;
            }
            
            .nav-menu, .mobile-nav, .btn, .save-indicator, .sync-indicator, .github-badge {
                display: none !important;
            }
            
            .certificate {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <!-- Indicador de sincronización con Google Sheets -->
    <div class="sync-indicator" id="syncIndicator">
        ☁️ Sincronizado con Google Sheets
    </div>

    <!-- Badge de GitHub Pages -->
    <a href="https://github.com/tuusuario/educación-scout" class="github-badge" target="_blank">
        📚 Ver en GitHub
    </a>

    <div class="container">
        <div class="header">
            <h1>🏕️ Educación en el movimiento Scout</h1>
            <p>Formación para Rovers - Sinodales y Ayudantes</p>
            
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
                <div class="progress-text" id="progressText">0%</div>
            </div>
            
            <p style="margin-top: 10px; font-size: 0.9em; color: #666;">
                ⏱️ Tiempo estimado restante: <span id="timeRemaining">300 minutos</span>
            </p>
        </div>

        <div class="nav-menu">
            <button class="nav-btn active" onclick="showModule(0)">📝 Registro</button>
            <button class="nav-btn" onclick="showModule(1)">🏠 Inicio</button>
            <button class="nav-btn" onclick="showModule(2)">🎯 Proposito</button>
            <button class="nav-btn" onclick="showModule(3)">⛰️ Educación hoy</button>
            <button class="nav-btn" onclick="showModule(4)">🏝️ Pilares de la educacion</button>
            <button class="nav-btn" onclick="showModule(5)">🌍 Como aprendemos</button>
            <button class="nav-btn" onclick="showModule(6)">⚙️ Programa de jovenes</button>
            <button class="nav-btn" onclick="showModule(7)">💫 Diseño de programa de jovenes</button>
            <button class="nav-btn" onclick="showModule(8)">🏆 Certificado</button>
        </div>

        <div class="mobile-nav">
            <select onchange="showModule(this.value)">
                <option value="0">📝 Registro</option>
                <option value="1">🏠 Inicio</option>
                <option value="2">🎯 Proposito</option>
                <option value="3">⛰️ Educación hoy</option>
                <option value="4">🏝️ Pilares de la educacion</option>
                <option value="5">🌍 Como aprendemos</option>
                <option value="6">⚙️ Programa de jovenes</option>
                <option value="7">💫 Diseño de programa de jovenes</option>
                <option value="8">🏆 Certificado</option>
            </select>
        </div>

        <div class="content">
            <!-- MÓDULO 0: REGISTRO -->
            <div class="module active" id="module-0">
                <h2>📝 Registro al Curso</h2>
                
                <div class="info-box">
                    <strong>🎯 Objetivo del Curso:</strong><br>
                    Comprender los fundamentos educativos del Movimiento Scout a través del análisis de su propósito, el contexto educativo actual, los principios del aprendizaje y el programa de jóvenes.
                </div>
                
                <form id="registrationForm" onsubmit="handleRegistration(event)">
                    <div class="form-group">
                        <label for="fullName">Nombre Completo *</label>
                        <input type="text" id="fullName" name="fullName" required 
                               placeholder="Ej: Juan Carlos Pérez Gómez">
                    </div>

                    <div class="form-group">
                        <label for="age">Edad</label>
                        <input type="number" id="age" name="age" min="16" max="25" 
                               placeholder="Ej: 19">
                    </div>

                    <div class="form-group">
                        <label for="group">Grupo Scout</label>
                        <input type="text" id="group" name="group" 
                               placeholder="Ej: Grupo Scout 25">
                    </div>

                    <div class="form-group">
                        <label for="region">Región/Departamento</label>
                        <select id="region" name="region">
                            <option value="">Seleccionar...</option>
                            <option value="Amazonas">Amazonas</option>
                            <option value="Antioquia">Antioquia</option>
                            <option value="Arauca">Arauca</option>
                            <option value="Atlántico">Atlántico</option>
                            <option value="Bogotá">Bogotá D.C.</option>
                            <option value="Bolívar">Bolívar</option>
                            <option value="Boyacá">Boyacá</option>
                            <option value="Caldas">Caldas</option>
                            <option value="Caquetá">Caquetá</option>
                            <option value="Casanare">Casanare</option>
                            <option value="Cauca">Cauca</option>
                            <option value="Cesar">Cesar</option>
                            <option value="Chocó">Chocó</option>
                            <option value="Córdoba">Córdoba</option>
                            <option value="Cundinamarca">Cundinamarca</option>
                            <option value="Guainía">Guainía</option>
                            <option value="Guaviare">Guaviare</option>
                            <option value="Huila">Huila</option>
                            <option value="La Guajira">La Guajira</option>
                            <option value="Magdalena">Magdalena</option>
                            <option value="Meta">Meta</option>
                            <option value="Nariño">Nariño</option>
                            <option value="Norte de Santander">Norte de Santander</option>
                            <option value="Putumayo">Putumayo</option>
                            <option value="Quindío">Quindío</option>
                            <option value="Risaralda">Risaralda</option>
                            <option value="San Andrés">San Andrés y Providencia</option>
                            <option value="Santander">Santander</option>
                            <option value="Sucre">Sucre</option>
                            <option value="Tolima">Tolima</option>
                            <option value="Valle del Cauca">Valle del Cauca</option>
                            <option value="Vaupés">Vaupés</option>
                            <option value="Vichada">Vichada</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="email">Correo Electrónico</label>
                        <input type="email" id="email" name="email" 
                               placeholder="Ej: juan.perez@email.com">
                    </div>

                    <div class="form-group">
                        <label for="motivation">¿Por qué quieres ser sinodal/ayudante?</label>
                        <textarea id="motivation" name="motivation" rows="4" 
                                  placeholder="Describe brevemente tu motivación para apoyar en manada o tropa..."></textarea>
                    </div>

                    <div style="text-align: center; margin-top: 30px;">
                        <button type="submit" class="btn" style="font-size: 1.1rem; padding: 15px 30px;">
                            🚀 Comenzar Curso
                        </button>
                    </div>
                </form>

                <div class="data-privacy">
                    <h4>📊 Información sobre tus datos</h4>
                    <p>Este curso guarda tu progreso de dos formas:</p>
                    <ul>
                        <li>📱 <strong>Localmente:</strong> En tu navegador para que puedas continuar sin internet</li>
                        <li>☁️ <strong>Google Sheets:</strong> Para que los dirigentes puedan verificar certificados y hacer seguimiento</li>
                    </ul>
                    <p style="margin-top: 10px; font-size: 0.9em;">Tus datos solo se usan para fines educativos de la Asociación Scout de Colombia.</p>
                </div>
            </div>

            <!-- MÓDULO 1: INICIO -->
            <div class="module" id="module-1">
                <h2>🏠 Bienvenido/a <span id="welcomeName"></span></h2>
                
                <div class="info-box">
                    <strong>¡Siempre Listo/a para Servir!</strong><br>
                    Estás a punto de embarcarte en un viaje educativo que te preparará para transmitir el legado scout a las nuevas generaciones.
                </div>

                <h3>🎯 Objetivos del Curso</h3>
                <ul>
                    <li><strong>Analizar el propósito del Movimiento Scout como propuesta educativa integral</strong> </li>
                    <li><strong>Comprender los orígenes históricos</strong> del movimiento scout</li>
                    <li><strong>Dominar las características esenciales</strong> del escultismo</li>
                    <li><strong>Entender los 8 elementos</strong> del método scout correctamente</li>
                    <li><strong>Fortalecer conceptos educativos</strong> scouts aplicables a niños y niñas</li>
                    <li><strong>Prepararte para ser sinodal/ayudante</strong> en manada y tropa</li>
                </ul>

                <h3>🏆 Logros por Desbloquear</h3>
                <div class="achievements">
                    <div class="achievement" id="achievement-1">📚 Historiador Scout</div>
                    <div class="achievement" id="achievement-2">🎯 Conocedor de la Misión</div>
                    <div class="achievement" id="achievement-3">⚙️ Metodólogo Scout</div>
                    <div class="achievement" id="achievement-4">🌍 Ciudadano Global</div>
                    <div class="achievement" id="achievement-5">🎓 Rover Certificado</div>
                </div>

                <div class="stats">
                    <div class="stat-card">
                        <h4 id="modulesCompleted">0</h4>
                        <p>Módulos Completados</p>
                    </div>
                    <div class="stat-card">
                        <h4 id="quizzesCompleted">0</h4>
                        <p>Evaluaciones Aprobadas</p>
                    </div>
                    <div class="stat-card">
                        <h4 id="studyTime">0</h4>
                        <p>Minutos de Estudio</p>
                    </div>
                </div>

                <button class="btn" onclick="showModule(2)">🚀 Comenzar con la Misión Scout</button>
            </div>

            <!-- MÓDULO 2: MISIÓN Y PROPÓSITO -->
            <div class="module" id="module-2">
                <h2>🎯 Misión y Propósito del Movimiento Scout</h2>
                
                <div class="badge">Módulo 1/6</div>
                
                <div class="mission-box">
                    <h3>🌟 MISIÓN DEL MOVIMIENTO SCOUT</h3>
                    <blockquote style="font-size: 1.1rem; font-style: italic; text-align: center; margin: 20px 0; color: #1a4b6b;">
                        "Contribuir a la educación de los jóvenes para que participen en la construcción de un mundo mejor, donde las personas se desarrollen plenamente y jueguen un papel constructivo en la sociedad."
                    </blockquote>
                </div>

                <h3>¿Cómo logramos esta misión?</h3>
                <p>A través de un sistema de valores basado en la <strong>Promesa y la Ley Scout</strong>, que ayuda a los jóvenes a construir un proyecto de vida basado en el servicio a los demás.</p>

                <h3>🎯 Nuestro Propósito Fundamental</h3>
                <ol>
                    <li><strong>Desarrollo del carácter:</strong> Formar personas íntegras con valores sólidos</li>
                    <li><strong>Entrenamiento para la ciudadanía:</strong> Preparar ciudadanos activos y responsables</li>
                    <li><strong>Desarrollo físico y mental:</strong> Promover la salud integral</li>
                    <li><strong>Servicio a los demás:</strong> Fomentar el compromiso social</li>
                </ol>

                <h3>📜 La Promesa Scout</h3>
                <div class="info-box">
                    <em>"Prometo por mi honor hacer todo cuanto de mí dependa para cumplir mis deberes para con Dios y la Patria, ayudar al prójimo en toda circunstancia y cumplir fielmente la Ley Scout."</em>
                </div>

                <h3>⚖️ La Ley Scout</h3>
                <ol>
                    <li>El Scout cifra su honor en ser digno de confianza</li>
                    <li>El Scout es leal</li>
                    <li>El Scout es útil y ayuda a los demás</li>
                    <li>El Scout es amigo de todos y hermano de cualquier Scout</li>
                    <li>El Scout es cortés</li>
                    <li>El Scout ama la naturaleza y protege a los animales y plantas</li>
                    <li>El Scout obedece sin replicar y hace las cosas en orden y completas</li>
                    <li>El Scout sonríe y canta en sus dificultades</li>
                    <li>El Scout es económico, trabajador y cuidadoso del bien ajeno</li>
                    <li>El Scout es limpio y sano en pensamientos, palabras y obras</li>
                </ol>

                <div class="reflection-area">
                    <h4>🤔 Reflexión Personal</h4>
                    <p>¿Cómo aplicarías estos valores al trabajar con niños y niñas en manada o tropa?</p>
                    <textarea id="reflection-2" placeholder="Escribe tu reflexión aquí..." onchange="saveReflection(2, this.value)"></textarea>
                </div>

                <div class="quiz-container">
                    <h3>📝 Evaluación - Misión y Propósito</h3>
                    
                    <div class="question">
                        <h4>1. ¿Cuál es el objetivo principal de la misión scout?</h4>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q1">
                            Enseñar técnicas de campamento
                        </label>
                        <label class="option" onclick="selectOption(this, true)">
                            <input type="radio" name="q1">
                            Contribuir a la educación para construir un mundo mejor
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q1">
                            Formar exploradores profesionales
                        </label>
                    </div>

                    <div class="question">
                        <h4>2. ¿En qué se basa el sistema de valores scout?</h4>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q2">
                            En reglamentos militares
                        </label>
                        <label class="option" onclick="selectOption(this, true)">
                            <input type="radio" name="q2">
                            En la Promesa y la Ley Scout
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q2">
                            En técnicas de supervivencia
                        </label>
                    </div>

                    <button class="btn" onclick="checkQuiz(2, 2)" id="checkBtn-2">Verificar Respuestas</button>
                    <button class="btn hidden" onclick="completeModule(2)" id="nextBtn-2">Continuar a Mafeking ⛰️</button>
                </div>
            </div>

            <!-- MÓDULO 3: MAFEKING -->
            <div class="module" id="module-3">
                <h2>⛰️ Mafeking - El Origen del Movimiento Scout</h2>
                
                <div class="badge">Módulo 2/6</div>
                
                <h3>📅 El Sitio de Mafeking (1899-1900)</h3>
                <p>Durante la Guerra de los Bóers en Sudáfrica, el coronel Robert Baden-Powell defendió la ciudad de Mafeking durante 217 días. Esta experiencia cambiaría la historia de la educación juvenil para siempre.</p>

                <div class="timeline">
                    <div class="timeline-item">
                        <h4>🏰 El Desafío</h4>
                        <p>Baden-Powell tenía solo 1,000 hombres para defender la ciudad contra 8,000 atacantes. Necesitaba toda la ayuda posible.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>👦 Los Jóvenes Cadetes</h4>
                        <p>Organizó a los jóvenes de la ciudad en el "Cuerpo de Cadetes de Mafeking". Les asignó tareas importantes: mensajeros, primeros auxilios, centinelas, cocineros.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>💡 La Revelación</h4>
                        <p>Baden-Powell descubrió que los jóvenes, cuando se les da responsabilidad y confianza, son capaces de mucho más de lo que los adultos imaginan.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>✨ La Semilla del Escultismo</h4>
                        <p>Esta experiencia le mostró que los jóvenes responden positivamente cuando:</p>
                        <ul>
                            <li>Se les confían responsabilidades reales</li>
                            <li>Trabajan en pequeños grupos</li>
                            <li>Tienen un propósito claro</li>
                            <li>El servicio a otros les genera satisfacción</li>
                        </ul>
                    </div>
                </div>

                <h3>🎖️ El Héroe Nacional</h3>
                <p>Al regresar a Inglaterra, Baden-Powell era un héroe nacional. Su libro "Aids to Scouting" (Ayudas para el Escultismo), escrito para militares, estaba siendo usado por maestros y organizaciones juveniles.</p>

                <div class="info-box">
                    <strong>💭 Dato Curioso:</strong> Los jóvenes de Mafeking usaban bicicletas para entregar mensajes, convirtiéndose en los primeros "scouts" no oficiales. Su lema era "¡Siempre Listos!" - que permanece hasta hoy.
                </div>

                <div class="reflection-area">
                    <h4>🤔 Reflexión Personal</h4>
                    <p>¿Qué lecciones de Mafeking aplicarías al trabajar con niños y jóvenes? ¿Cómo les darías responsabilidades apropiadas?</p>
                    <textarea id="reflection-3" placeholder="Escribe tu reflexión aquí..." onchange="saveReflection(3, this.value)"></textarea>
                </div>

                <div class="quiz-container">
                    <h3>📝 Evaluación - Mafeking</h3>
                    
                    <div class="question">
                        <h4>1. ¿Qué descubrió Baden-Powell sobre los jóvenes en Mafeking?</h4>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q3">
                            Que necesitan supervisión constante
                        </label>
                        <label class="option" onclick="selectOption(this, true)">
                            <input type="radio" name="q3">
                            Que son capaces de mucho más cuando se les da responsabilidad
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q3">
                            Que solo sirven para tareas simples
                        </label>
                    </div>

                    <div class="question">
                        <h4>2. ¿Cuál fue el papel de los jóvenes en Mafeking?</h4>
                        <label class="option" onclick="selectOption(this, true)">
                            <input type="radio" name="q4">
                            Mensajeros, primeros auxilios, centinelas y apoyo logístico
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q4">
                            Solo observadores
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q4">
                            Combatientes armados
                        </label>
                    </div>

                    <button class="btn" onclick="checkQuiz(3, 2)" id="checkBtn-3">Verificar Respuestas</button>
                    <button class="btn hidden" onclick="completeModule(3)" id="nextBtn-3">Continuar a Brownsea 🏝️</button>
                </div>
            </div>

            <!-- MÓDULO 4: BROWNSEA ISLAND -->
            <div class="module" id="module-4">
                <h2>🏝️ Brownsea Island - El Primer Campamento Scout</h2>
                
                <div class="badge">Módulo 3/6</div>
                
                <h3>📅 1-9 de Agosto de 1907</h3>
                <p>Años después de Mafeking, Baden-Powell decidió poner a prueba sus ideas educativas. Organizó el primer campamento scout en la Isla de Brownsea, en el Canal de la Mancha.</p>

                <div class="info-box">
                    <strong>🏕️ El Campamento Experimental</strong><br>
                    • 20 jóvenes de diferentes clases sociales<br>
                    • 9 días de actividades<br>
                    • 4 patrullas: Cuervos, Lobos, Toros y Chorlitos<br>
                    • Cada patrulla con su propio líder juvenil
                </div>

                <h3>📚 El Programa del Campamento</h3>
                <div class="timeline">
                    <div class="timeline-item">
                        <h4>Día 1: Preliminares</h4>
                        <p>Organización en patrullas, establecimiento del campamento, primeras instrucciones sobre vida al aire libre.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>Día 2: Campaña</h4>
                        <p>Técnicas de observación, seguimiento de pistas, deducciones al estilo Sherlock Holmes.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>Día 3: Observación</h4>
                        <p>Estudio de la naturaleza, reconocimiento de plantas y animales, juegos de Kim.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>Día 4: Artes del Bosque</h4>
                        <p>Pionerismo, nudos, construcción de refugios, cocina al aire libre.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>Día 5: Caballerosidad</h4>
                        <p>Código de honor, servicio a otros, primeros auxilios, salvamento.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>Día 6: Salvamento</h4>
                        <p>Técnicas de rescate, trabajo en equipo, simulacros de emergencia.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>Día 7: Patriotismo</h4>
                        <p>Historia, deberes ciudadanos, respeto a los símbolos patrios.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>Día 8: Juegos</h4>
                        <p>Competencias entre patrullas, fogata final, representaciones.</p>
                    </div>
                </div>

                <h3>🎯 Los Elementos Clave del Éxito</h3>
                <ul>
                    <li><strong>Sistema de Patrullas:</strong> Pequeños grupos con liderazgo juvenil</li>
                    <li><strong>Aprender Haciendo:</strong> Toda la teoría se aplicaba inmediatamente</li>
                    <li><strong>Vida al Aire Libre:</strong> El entorno natural como aula</li>
                    <li><strong>Código de Valores:</strong> Honor, lealtad, servicio</li>
                    <li><strong>Uniforme e Insignias:</strong> Identidad y reconocimiento del progreso</li>
                </ul>

                <div class="info-box">
                    <strong>✨ Resultado:</strong> El campamento fue un éxito rotundo. Los jóvenes regresaron entusiasmados, y la noticia se esparció rápidamente. En 1908, Baden-Powell publicó "Scouting for Boys" (Escultismo para Muchachos), que se convirtió en uno de los libros más vendidos de todos los tiempos.
                </div>

                <div class="reflection-area">
                    <h4>🤔 Reflexión Personal</h4>
                    <p>¿Qué elementos del campamento de Brownsea implementarías en tus actividades con manada o tropa? ¿Por qué crees que fue tan exitoso?</p>
                    <textarea id="reflection-4" placeholder="Escribe tu reflexión aquí..." onchange="saveReflection(4, this.value)"></textarea>
                </div>

                <div class="quiz-container">
                    <h3>📝 Evaluación - Brownsea Island</h3>
                    
                    <div class="question">
                        <h4>1. ¿Cuántos jóvenes participaron en el primer campamento scout?</h4>
                        <label class="option" onclick="selectOption(this, true)">
                            <input type="radio" name="q5">
                            20 jóvenes
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q5">
                            50 jóvenes
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q5">
                            100 jóvenes
                        </label>
                    </div>

                    <div class="question">
                        <h4>2. ¿Cuál fue una innovación clave del campamento?</h4>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q6">
                            Disciplina militar estricta
                        </label>
                        <label class="option" onclick="selectOption(this, true)">
                            <input type="radio" name="q6">
                            Sistema de patrullas con liderazgo juvenil
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q6">
                            Clases teóricas intensivas
                        </label>
                    </div>

                    <button class="btn" onclick="checkQuiz(4, 2)" id="checkBtn-4">Verificar Respuestas</button>
                    <button class="btn hidden" onclick="completeModule(4)" id="nextBtn-4">Continuar a la Expansión Mundial 🌍</button>
                </div>
            </div>

            <!-- MÓDULO 5: EXPANSIÓN MUNDIAL -->
            <div class="module" id="module-5">
                <h2>🌍 La Expansión Mundial del Movimiento Scout</h2>
                
                <div class="badge">Módulo 4/6</div>
                
                <h3>🚀 El Crecimiento Explosivo</h3>
                <p>Lo que comenzó como un experimento en una pequeña isla británica se convirtió rápidamente en el movimiento juvenil más grande del mundo.</p>

                <div class="timeline">
                    <div class="timeline-item">
                        <h4>1908: El Libro que Cambió Todo</h4>
                        <p>"Escultismo para Muchachos" se publica por entregas. Miles de jóvenes forman patrullas espontáneamente sin esperar organización adulta.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>1909: Las Niñas También Quieren</h4>
                        <p>En el Rally de Crystal Palace aparecen niñas uniformadas que se autodenominan "Scouts". Baden-Powell crea las Guías Scouts con su hermana Agnes.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>1910: Cruce del Atlántico</h4>
                        <p>El escultismo llega a América, Asia y África. Chile es el primer país hispanohablante en adoptar el movimiento.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>1920: Primer Jamboree Mundial</h4>
                        <p>8,000 scouts de 34 países se reúnen en Londres. Baden-Powell es proclamado "Jefe Scout Mundial".</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>1922: Más de 1 Millón de Scouts</h4>
                        <p>El movimiento alcanza 32 países. Se crea la Conferencia Scout Mundial.</p>
                    </div>
                </div>

                <h3>🇨🇴 El Escultismo en Colombia</h3>
                <ul>
                    <li><strong>1913:</strong> Primeros grupos scout en Bogotá</li>
                    <li><strong>1917:</strong> Fundación oficial de los Boy Scouts de Colombia</li>
                    <li><strong>1936:</strong> Colombia es miembro fundador de la Oficina Scout Interamericana</li>
                    <li><strong>Actualidad:</strong> Más de 15,000 scouts activos en todo el país</li>
                </ul>

                <h3>🌎 El Movimiento Scout Hoy</h3>
                <div class="info-box">
                    <strong>Datos Actuales:</strong><br>
                    • Presente en 172 países y territorios<br>
                    • Más de 50 millones de scouts en el mundo<br>
                    • Más de 500 millones de personas han sido scouts<br>
                    • Es el movimiento educativo juvenil más grande del planeta
                </div>

                <h3>🎯 ¿Por Qué se Expandió Tan Rápido?</h3>
                <ol>
                    <li><strong>Universalidad:</strong> Los valores scouts trascienden culturas y religiones</li>
                    <li><strong>Adaptabilidad:</strong> Cada país adapta el programa a su realidad</li>
                    <li><strong>Método Probado:</strong> El sistema educativo scout funciona en cualquier contexto</li>
                    <li><strong>Necesidad Real:</strong> Responde a las necesidades de desarrollo de los jóvenes</li>
                    <li><strong>Hermandad Mundial:</strong> Crea lazos entre jóvenes de todo el mundo</li>
                </ol>

                <div class="reflection-area">
                    <h4>🤔 Reflexión Personal</h4>
                    <p>¿Cómo crees que el escultismo colombiano puede aportar a la hermandad scout mundial? ¿Qué elementos de nuestra cultura enriquecen el movimiento?</p>
                    <textarea id="reflection-5" placeholder="Escribe tu reflexión aquí..." onchange="saveReflection(5, this.value)"></textarea>
                </div>

                <div class="quiz-container">
                    <h3>📝 Evaluación - Expansión Mundial</h3>
                    
                    <div class="question">
                        <h4>1. ¿En cuántos países está presente el movimiento scout actualmente?</h4>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q7">
                            50 países
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q7">
                            100 países
                        </label>
                        <label class="option" onclick="selectOption(this, true)">
                            <input type="radio" name="q7">
                            172 países y territorios
                        </label>
                    </div>

                    <div class="question">
                        <h4>2. ¿Cuándo se fundó oficialmente el escultismo en Colombia?</h4>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q8">
                            1907
                        </label>
                        <label class="option" onclick="selectOption(this, true)">
                            <input type="radio" name="q8">
                            1917
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q8">
                            1936
                        </label>
                    </div>

                    <button class="btn" onclick="checkQuiz(5, 2)" id="checkBtn-5">Verificar Respuestas</button>
                    <button class="btn hidden" onclick="completeModule(5)" id="nextBtn-5">Continuar al Método Scout ⚙️</button>
                </div>
            </div>

            <!-- MÓDULO 6: MÉTODO SCOUT -->
            <div class="module" id="module-6">
                <h2>⚙️ Los 8 Elementos del Método Scout</h2>
                
                <div class="badge">Módulo 5/6</div>
                
                <p>El Método Scout es un sistema educativo único que funciona a través de la interacción de 8 elementos esenciales. Como sinodal/ayudante, es fundamental que comprendas cómo aplicar cada uno.</p>

                <div class="method-elements">
                    <div class="method-element" style="background: linear-gradient(135deg, #e8f5e9, #c8e6c9); border-color: #4CAF50;">
                        <h4>1. 🤝 Adhesión a la Promesa y la Ley</h4>
                        <p>Compromiso personal y voluntario con un código de valores positivos expresados en la Promesa y la Ley Scout.</p>
                    </div>
                    
                    <div class="method-element" style="background: linear-gradient(135deg, #e3f2fd, #bbdefb); border-color: #2196F3;">
                        <h4>2. 🎯 Aprender Haciendo</h4>
                        <p>Educación activa donde se aprende a través de la experiencia práctica, la observación y la experimentación.</p>
                    </div>
                    
                    <div class="method-element" style="background: linear-gradient(135deg, #f3e5f5, #e1bee7); border-color: #9C27B0;">
                        <h4>3. 📈 Progresión Personal</h4>
                        <p>Cada joven progresa a su propio ritmo, con objetivos personalizados y reconocimiento de logros individuales.</p>
                    </div>
                    
                    <div class="method-element" style="background: linear-gradient(135deg, #fce4ec, #f8bbd0); border-color: #E91E63;">
                        <h4>4. 👥 Sistema de Equipos</h4>
                        <p>Pequeños grupos (patrullas/seisenas) donde se desarrolla el liderazgo, la responsabilidad y las habilidades sociales.</p>
                    </div>
                    
                    <div class="method-element" style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); border-color: #FF9800;">
                        <h4>5. 🎭 Marco Simbólico</h4>
                        <p>Uso de símbolos, ceremonias y tradiciones que dan identidad y refuerzan los valores del movimiento.</p>
                    </div>
                    
                    <div class="method-element" style="background: linear-gradient(135deg, #e0f2f1, #b2dfdb); border-color: #009688;">
                        <h4>6. 🌲 Vida en la Naturaleza</h4>
                        <p>Contacto directo con el ambiente natural como espacio privilegiado de educación y desarrollo personal.</p>
                    </div>
                    
                    <div class="method-element" style="background: linear-gradient(135deg, #fff8e1, #ffecb3); border-color: #FFC107;">
                        <h4>7. 🤗 Presencia Estimulante del Adulto</h4>
                        <p>Acompañamiento de adultos preparados que facilitan y apoyan el proceso educativo sin imponer ni substituir.</p>
                    </div>
                    
                    <div class="method-element" style="background: linear-gradient(135deg, #ffebee, #ffcdd2); border-color: #F44336;">
                        <h4>8. 🌐 Involucramiento Comunitario</h4>
                        <p>Participación activa de los jóvenes en su comunidad, desarrollando conciencia social y compromiso ciudadano.</p>
                    </div>
                </div>

                <h3>🔗 La Integración es Clave</h3>
                <p>Estos elementos <strong>NO funcionan por separado</strong>. Su poder educativo radica en cómo <strong>interactúan entre sí</strong> para crear un entorno educativo único y transformador.</p>

                <div class="info-box">
                    <strong>💡 Para el Sinodal/Ayudante:</strong><br>
                    Al trabajar con manada o tropa, debes aplicar TODOS estos elementos de manera equilibrada. Por ejemplo:<br>
                    • En manada: El marco simbólico del Libro de la Selva + sistema de seisenas + progresión por insignias<br>
                    • En tropa: Mayor énfasis en el sistema de patrullas + vida al aire libre + servicio comunitario
                </div>

                <div class="reflection-area">
                    <h4>🤔 Reflexión Personal</h4>
                    <p>¿Cuál de los 8 elementos consideras más desafiante para implementar? ¿Cómo los integrarías en una actividad específica?</p>
                    <textarea id="reflection-6" placeholder="Escribe tu reflexión aquí..." onchange="saveReflection(6, this.value)"></textarea>
                </div>

                <div class="quiz-container">
                    <h3>📝 Evaluación - Método Scout</h3>
                    
                    <div class="question">
                        <h4>1. ¿Cuántos elementos componen el Método Scout?</h4>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q9">
                            5 elementos
                        </label>
                        <label class="option" onclick="selectOption(this, true)">
                            <input type="radio" name="q9">
                            8 elementos
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q9">
                            10 elementos
                        </label>
                    </div>

                    <div class="question">
                        <h4>2. ¿Qué característica es fundamental del Método Scout?</h4>
                        <label class="option" onclick="selectOption(this, true)">
                            <input type="radio" name="q10">
                            Los elementos funcionan de manera integrada
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q10">
                            Cada elemento funciona independientemente
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q10">
                            Solo algunos elementos son importantes
                        </label>
                    </div>

                    <button class="btn" onclick="checkQuiz(6, 2)" id="checkBtn-6">Verificar Respuestas</button>
                    <button class="btn hidden" onclick="completeModule(6)" id="nextBtn-6">Continuar al Impacto Global 💫</button>
                </div>
            </div>

            <!-- MÓDULO 7: IMPACTO GLOBAL -->
            <div class="module" id="module-7">
                <h2>💫 El Impacto Global del Movimiento Scout</h2>
                
                <div class="badge">Módulo 6/6</div>
                
                <h3>🌟 Más de 100 Años Transformando Vidas</h3>
                <p>El escultismo ha demostrado ser mucho más que un movimiento juvenil. Es una fuerza global para el bien, que ha impactado positivamente a millones de personas y comunidades.</p>

                <h3>🏆 Scouts Notables en la Historia</h3>
                <ul>
                    <li><strong>Neil Armstrong:</strong> Primer hombre en la luna - Scout Águila</li>
                    <li><strong>Ban Ki-moon:</strong> Ex Secretario General de la ONU</li>
                    <li><strong>Bill Gates:</strong> Fundador de Microsoft</li>
                    <li><strong>Barack Obama:</strong> Ex Presidente de Estados Unidos</li>
                    <li><strong>David Beckham:</strong> Futbolista inglés</li>
                    <li><strong>Bear Grylls:</strong> Aventurero y Jefe Scout del Reino Unido</li>
                </ul>

                <h3>🌍 Contribuciones del Escultismo al Mundo</h3>
                <div class="timeline">
                    <div class="timeline-item">
                        <h4>🕊️ Construcción de Paz</h4>
                        <p>Los Jamborees mundiales reúnen jóvenes de países en conflicto, promoviendo la comprensión intercultural. El escultismo tiene estatus consultivo en la ONU.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>🌱 Conservación Ambiental</h4>
                        <p>Millones de scouts participan en proyectos de reforestación, limpieza de playas y ríos, y educación ambiental. El programa "Scouts Go Solar" promueve energías renovables.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>❤️ Servicio Comunitario</h4>
                        <p>Se estima que los scouts contribuyen con más de 2 mil millones de horas de servicio comunitario anualmente a nivel mundial.</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>🚨 Respuesta a Emergencias</h4>
                        <p>Los scouts son frecuentemente los primeros en responder a desastres naturales, proporcionando ayuda humanitaria y apoyo logístico.</p>
                    </div>
                </div>

                <h3>📊 El Impacto en Números</h3>
                <div class="info-box">
                    <strong>Datos Impresionantes:</strong><br>
                    • 500+ millones de personas han sido scouts<br>
                    • 50+ millones de scouts activos actualmente<br>
                    • 172 países con presencia scout<br>
                    • 28% de los Premios Nobel han sido scouts<br>
                    • 70% de astronautas han sido scouts<br>
                    • 85% de estudiantes scouts completan estudios superiores
                </div>

                <h3>🎯 Objetivos de Desarrollo Sostenible</h3>
                <p>El Movimiento Scout contribuye activamente a los 17 ODS de las Naciones Unidas:</p>
                <ul>
                    <li><strong>Educación de Calidad:</strong> Programa educativo no formal complementario</li>
                    <li><strong>Igualdad de Género:</strong> Coeducación y oportunidades equitativas</li>
                    <li><strong>Acción por el Clima:</strong> Programas ambientales y conciencia ecológica</li>
                    <li><strong>Paz y Justicia:</strong> Formación de ciudadanos responsables</li>
                    <li><strong>Alianzas:</strong> Red mundial de cooperación juvenil</li>
                </ul>

                <h3>🇨🇴 El Impacto en Colombia</h3>
                <p>Los scouts colombianos han contribuido significativamente en:</p>
                <ul>
                    <li>Procesos de paz y reconciliación</li>
                    <li>Conservación de páramos y bosques</li>
                    <li>Apoyo en emergencias naturales</li>
                    <li>Programas de prevención de drogas</li>
                    <li>Inclusión de poblaciones vulnerables</li>
                </ul>

                <div class="reflection-area">
                    <h4>🤔 Reflexión Final</h4>
                    <p>Como futuro sinodal/ayudante, ¿cómo contribuirás al impacto positivo del escultismo? ¿Qué legado quieres dejar en los niños y niñas que acompañarás?</p>
                    <textarea id="reflection-7" placeholder="Escribe tu reflexión aquí..." onchange="saveReflection(7, this.value)"></textarea>
                </div>

                <div class="quiz-container">
                    <h3>📝 Evaluación Final - Impacto Global</h3>
                    
                    <div class="question">
                        <h4>1. ¿Aproximadamente cuántas personas han sido scouts en la historia?</h4>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q11">
                            100 millones
                        </label>
                        <label class="option" onclick="selectOption(this, true)">
                            <input type="radio" name="q11">
                            500 millones
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q11">
                            50 millones
                        </label>
                    </div>

                    <div class="question">
                        <h4>2. ¿Cuál es una contribución importante del escultismo?</h4>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q12">
                            Solo actividades recreativas
                        </label>
                        <label class="option" onclick="selectOption(this, true)">
                            <input type="radio" name="q12">
                            Construcción de paz y servicio comunitario
                        </label>
                        <label class="option" onclick="selectOption(this, false)">
                            <input type="radio" name="q12">
                            Únicamente campamentos
                        </label>
                    </div>

                    <button class="btn" onclick="checkQuiz(7, 2)" id="checkBtn-7">Verificar Respuestas</button>
                    <button class="btn hidden" onclick="completeModule(7)" id="nextBtn-7">Obtener Certificado 🏆</button>
                </div>
            </div>

            <!-- MÓDULO 8: CERTIFICADO -->
            <div class="module" id="module-8">
                <div class="certificate">
                    <h2>🏆 ¡FELICITACIONES!</h2>
                    <h3>Certificado de Completación</h3>
                    <h2 style="color: #1a4b6b; margin: 20px 0;">FUNDAMENTOS DEL MOVIMIENTO SCOUT</h2>
                    
                    <p style="font-size: 1.1rem; margin: 20px 0;">Certificamos que</p>
                    <h3 style="color: #ffc107; font-size: 1.8rem; margin: 15px 0;" id="studentName"></h3>
                    <p style="margin: 20px 0;">ha completado exitosamente el curso de <strong>Historia y Características Esenciales del Movimiento Scout</strong>, demostrando comprensión profunda de los fundamentos necesarios para servir como sinodal/ayudante en las ramas de manada y tropa.</p>
                    
                    <div class="certificate-code">
                        Código de Verificación: <strong id="certCode">ASC-2024-XXXXX</strong>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; margin-top: 30px; font-size: 0.9rem;">
                        <div style="text-align: left;">
                            <p><strong>Fecha:</strong> <span id="certDate"></span></p>
                            <p><strong>Duración:</strong> <span id="totalTime"></span> minutos</p>
                            <p><strong>Grupo Scout:</strong> <span id="certGroup"></span></p>
                        </div>
                        <div style="text-align: right;">
                            <p><strong>Puntuación:</strong> <span id="finalScore"></span>%</p>
                            <p><strong>Estado:</strong> APROBADO ✅</p>
                            <p><strong>Región:</strong> <span id="certRegion"></span></p>
                        </div>
                    </div>
                    
                    <div style="margin-top: 40px; padding-top: 20px; border-top: 2px solid #ddd;">
                        <p style="font-size: 0.9em; color: #666;">
                            Este certificado puede ser verificado contactando a la Asociación Scout de Colombia<br>
                            con el código de verificación proporcionado.
                        </p>
                    </div>
                </div>

                <h3>🎯 Logros Desbloqueados</h3>
                <div class="achievements">
                    <div class="achievement earned">📚 Historiador Scout</div>
                    <div class="achievement earned">🎯 Conocedor de la Misión</div>
                    <div class="achievement earned">⚙️ Metodólogo Scout</div>
                    <div class="achievement earned">🌍 Ciudadano Global</div>
                    <div class="achievement earned">🎓 Rover Certificado</div>
                </div>

                <div style="text-align: center; margin: 30px 0;">
                    <button class="btn" onclick="window.print()">🖨️ Imprimir Certificado</button>
                    <button class="btn" onclick="shareResults()">📤 Compartir Logros</button>
                    <button class="btn" onclick="restartCourse()">🔄 Reiniciar Curso</button>
                </div>

                <div class="reflection-area">
                    <h4>🎯 Compromiso Personal</h4>
                    <p>Escribe tu compromiso como rover certificado para servir a las nuevas generaciones scouts:</p>
                    <textarea id="commitment" placeholder="Mi compromiso como rover scout certificado es..." onchange="saveCommitment(this.value)"></textarea>
                </div>
            </div>
        </div>
    </div>

    <div class="save-indicator" id="saveIndicator">
        💾 Guardando...
    </div>

    <script>
        // ============================================
        // CONFIGURACIÓN DE GOOGLE SHEETS
        // ============================================
        
        // URL de tu Google Apps Script (YA CONFIGURADA)
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwYfFZbEWJILQCndTAxSWx1P5yEj79_utSDNkn13gNgN43k7D-q9DNvkjH-3zDPg7ZH/exec';
        
        // ============================================
        // VARIABLES GLOBALES
        // ============================================
        let currentModule = 0;
        let moduleProgress = [false, false, false, false, false, false, false, false];
        let quizScores = [];
        let startTime = new Date();
        let studyTime = 0;
        let reflections = {};
        let userProfile = {};

        // ============================================
        // FUNCIÓN DE REGISTRO CON GOOGLE SHEETS
        // ============================================
        function handleRegistration(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            userProfile = {
                fullName: formData.get('fullName'),
                age: formData.get('age'),
                group: formData.get('group'),
                region: formData.get('region'),
                email: formData.get('email'),
                motivation: formData.get('motivation'),
                registrationDate: new Date().toISOString()
            };
            
            if (!userProfile.fullName || userProfile.fullName.trim() === '') {
                showNotification('⚠️ El nombre es requerido', 'warning');
                return;
            }
            
            // Guardar localmente
            saveProgress();
            
            // Enviar a Google Sheets
            sendToGoogleSheets({
                action: 'register',
                ...userProfile
            });
            
            // Continuar con el curso
            showModule(1);
            const firstName = userProfile.fullName.split(' ')[0];
            document.getElementById('welcomeName').textContent = firstName;
            showNotification(`¡Bienvenido/a ${firstName}! 🎉`);
        }

        // ============================================
        // INTEGRACIÓN CON GOOGLE SHEETS
        // ============================================
        async function sendToGoogleSheets(data) {
            try {
                // Mostrar indicador de sincronización
                const indicator = document.getElementById('syncIndicator');
                if (indicator) {
                    indicator.classList.add('show');
                }
                
                // Preparar datos para enviar
                const payload = {
                    ...data,
                    timestamp: new Date().toISOString(),
                    userAgent: navigator.userAgent,
                    url: window.location.href
                };
                
                // Enviar a Google Sheets
                fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload)
                }).then(() => {
                    console.log('✅ Datos enviados a Google Sheets');
                    
                    // Ocultar indicador después de 2 segundos
                    setTimeout(() => {
                        if (indicator) {
                            indicator.classList.remove('show');
                        }
                    }, 2000);
                }).catch(error => {
                    console.log('Datos guardados localmente');
                });
                
            } catch (error) {
                console.log('Datos guardados localmente (Google Sheets no disponible)');
            }
        }

        // ============================================
        // FUNCIÓN PARA MOSTRAR MÓDULOS
        // ============================================
        function showModule(moduleIndex) {
            moduleIndex = parseInt(moduleIndex);
            
            if (moduleIndex > 0 && (!userProfile || !userProfile.fullName)) {
                showNotification('⚠️ Debes completar el registro primero', 'warning');
                return;
            }
            
            document.querySelectorAll('.module').forEach(module => {
                module.classList.remove('active');
            });
            
            document.getElementById(`module-${moduleIndex}`).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach((btn, index) => {
                btn.classList.remove('active');
                if (index === moduleIndex) {
                    btn.classList.add('active');
                }
            });
            
            // Actualizar selector móvil
            const mobileSelect = document.querySelector('.mobile-nav select');
            if (mobileSelect) {
                mobileSelect.value = moduleIndex;
            }
            
            currentModule = moduleIndex;
            
            if (moduleIndex === 8) {
                generateCertificate();
            }
            
            updateProgress();
            saveProgress();
        }

        // ============================================
        // GUARDAR PROGRESO
        // ============================================
        function saveProgress() {
            const progress = {
                userProfile: userProfile,
                moduleProgress: moduleProgress,
                quizScores: quizScores,
                studyTime: studyTime,
                reflections: reflections,
                currentModule: currentModule,
                startTime: startTime.toISOString(),
                lastSaved: new Date().toISOString(),
                version: '2.0'
            };
            
            const key = 'scoutCourseProgress_v2';
            localStorage.setItem(key, JSON.stringify(progress));
            
            // Guardar backup con fecha
            const backupKey = `scoutBackup_${new Date().toISOString().split('T')[0]}`;
            localStorage.setItem(backupKey, JSON.stringify(progress));
            
            // Mostrar indicador de guardado
            const indicator = document.getElementById('saveIndicator');
            if (indicator) {
                indicator.classList.add('show');
                setTimeout(() => indicator.classList.remove('show'), 2000);
            }
        }

        // ============================================
        // CARGAR PROGRESO
        // ============================================
        function loadProgress() {
            const saved = localStorage.getItem('scoutCourseProgress_v2') || 
                        localStorage.getItem('scoutCourseProgress');
            
            if (saved) {
                const progress = JSON.parse(saved);
                userProfile = progress.userProfile || {};
                moduleProgress = progress.moduleProgress || [false, false, false, false, false, false, false, false];
                quizScores = progress.quizScores || [];
                studyTime = progress.studyTime || 0;
                reflections = progress.reflections || {};
                currentModule = progress.currentModule || 0;
                startTime = new Date(progress.startTime || new Date());
                
                if (userProfile.fullName) {
                    showModule(currentModule);
                    document.getElementById('welcomeName').textContent = userProfile.fullName.split(' ')[0];
                    showNotification(`¡Bienvenido de vuelta, ${userProfile.fullName.split(' ')[0]}! 👋`);
                }
                
                // Restaurar reflexiones
                Object.keys(reflections).forEach(key => {
                    const textarea = document.getElementById(`reflection-${key}`);
                    if (textarea) textarea.value = reflections[key];
                });
                
                updateStats();
                updateProgress();
            }
        }

        // ============================================
        // SISTEMA DE EVALUACIONES
        // ============================================
        function selectOption(element, isCorrect) {
            const question = element.closest('.question');
            question.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            element.classList.add('selected');
            element.setAttribute('data-correct', isCorrect);
        }

        function checkQuiz(moduleNum, totalQuestions) {
            const questions = document.querySelectorAll(`#module-${moduleNum} .question`);
            let correctAnswers = 0;
            
            questions.forEach(question => {
                const selectedOption = question.querySelector('.option.selected');
                if (selectedOption) {
                    const isCorrect = selectedOption.getAttribute('data-correct') === 'true';
                    if (isCorrect) {
                        selectedOption.classList.add('correct');
                        correctAnswers++;
                    } else {
                        selectedOption.classList.add('incorrect');
                    }
                }
            });
            
            const score = (correctAnswers / totalQuestions) * 100;
            quizScores[moduleNum - 2] = score;
            
            document.getElementById(`checkBtn-${moduleNum}`).style.display = 'none';
            
            if (score >= 70) {
                document.getElementById(`nextBtn-${moduleNum}`).classList.remove('hidden');
                
                // Desbloquear logros
                if (moduleNum === 2) unlockAchievement('achievement-2');
                if (moduleNum === 3 || moduleNum === 4) unlockAchievement('achievement-1');
                if (moduleNum === 6) unlockAchievement('achievement-3');
                if (moduleNum === 7) unlockAchievement('achievement-4');
                
                showNotification(`¡Excelente! Obtuviste ${score}% ✅`);
                
                // Enviar resultado a Google Sheets
                sendToGoogleSheets({
                    action: 'quiz',
                    name: userProfile.fullName,
                    email: userProfile.email,
                    module: moduleNum,
                    score: score,
                    timestamp: new Date().toISOString()
                });
            } else {
                showNotification(`Puntuación: ${score}%. Necesitas 70% para continuar. Revisa el contenido.`, 'warning');
                setTimeout(() => location.reload(), 3000);
            }
            
            saveProgress();
        }

        // ============================================
        // COMPLETAR MÓDULO
        // ============================================
        function completeModule(moduleNum) {
            moduleProgress[moduleNum - 1] = true;
            
            // Enviar progreso a Google Sheets
            sendToGoogleSheets({
                action: 'progress',
                name: userProfile.fullName,
                email: userProfile.email,
                moduleCompleted: moduleNum,
                moduleName: getModuleName(moduleNum),
                timestamp: new Date().toISOString()
            });
            
            const navBtns = document.querySelectorAll('.nav-btn');
            if (navBtns[moduleNum]) navBtns[moduleNum].classList.add('completed');
            
            showModule(moduleNum + 1);
            saveProgress();
            updateProgress();
            updateStats();
        }

        // ============================================
        // OBTENER NOMBRE DEL MÓDULO
        // ============================================
        function getModuleName(moduleNum) {
            const names = [
                'Registro',
                'Inicio',
                'Misión y Propósito',
                'Mafeking - El Origen',
                'Brownsea Island',
                'Expansión Mundial',
                'Método Scout',
                'Impacto Global',
                'Certificado'
            ];
            return names[moduleNum] || 'Módulo ' + moduleNum;
        }

        // ============================================
        // ACTUALIZAR PROGRESO
        // ============================================
        function updateProgress() {
            const completedModules = moduleProgress.filter(Boolean).length;
            const progressPercent = (completedModules / 6) * 100;
            
            document.getElementById('progressBar').style.width = progressPercent + '%';
            document.getElementById('progressText').textContent = Math.round(progressPercent) + '%';
            
            const remainingModules = 6 - completedModules;
            const estimatedTime = remainingModules * 50;
            document.getElementById('timeRemaining').textContent = estimatedTime + ' minutos';
        }

        // ============================================
        // ACTUALIZAR ESTADÍSTICAS
        // ============================================
        function updateStats() {
            const completedModules = moduleProgress.filter(Boolean).length;
            const completedQuizzes = quizScores.filter(score => score >= 70).length;
            
            const modulesElement = document.getElementById('modulesCompleted');
            const quizzesElement = document.getElementById('quizzesCompleted');
            const timeElement = document.getElementById('studyTime');
            
            if (modulesElement) modulesElement.textContent = completedModules;
            if (quizzesElement) quizzesElement.textContent = completedQuizzes;
            if (timeElement) timeElement.textContent = studyTime;
        }

        // ============================================
        // DESBLOQUEAR LOGRO
        // ============================================
        function unlockAchievement(achievementId) {
            const achievement = document.getElementById(achievementId);
            if (achievement && !achievement.classList.contains('earned')) {
                achievement.classList.add('earned');
                showNotification(`¡Logro desbloqueado: ${achievement.textContent}! 🏆`);
            }
        }

        // ============================================
        // MOSTRAR NOTIFICACIÓN
        // ============================================
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = 'notification';
            if (type === 'warning') {
                notification.style.background = '#FF9800';
            }
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // ============================================
        // GUARDAR REFLEXIÓN
        // ============================================
        function saveReflection(moduleNum, text) {
            reflections[moduleNum] = text;
            saveProgress();
        }

        // ============================================
        // GUARDAR COMPROMISO
        // ============================================
        function saveCommitment(text) {
            localStorage.setItem('scoutCommitment', text);
        }

        // ============================================
        // GENERAR CERTIFICADO ÚNICO
        // ============================================
        function generateCertificate() {
            const date = new Date();
            const uniqueCode = 'ASC-' + date.getFullYear() + '-' + 
                             Math.random().toString(36).substr(2, 5).toUpperCase();
            
            document.getElementById('studentName').textContent = userProfile.fullName || 'Rover Scout';
            document.getElementById('certDate').textContent = date.toLocaleDateString('es-CO');
            document.getElementById('totalTime').textContent = studyTime;
            document.getElementById('certGroup').textContent = userProfile.group || 'N/A';
            document.getElementById('certRegion').textContent = userProfile.region || 'Colombia';
            document.getElementById('certCode').textContent = uniqueCode;
            
            const avgScore = quizScores.length > 0 ? 
                Math.round(quizScores.reduce((a, b) => a + b, 0) / quizScores.length) : 100;
            document.getElementById('finalScore').textContent = avgScore;
            
            // Enviar certificado a Google Sheets
            sendToGoogleSheets({
                action: 'certificate',
                name: userProfile.fullName,
                email: userProfile.email,
                group: userProfile.group,
                region: userProfile.region,
                certificateCode: uniqueCode,
                completionDate: date.toISOString(),
                score: avgScore,
                studyTime: studyTime,
                modulesCompleted: moduleProgress.filter(Boolean).length
            });
            
            // Desbloquear logro final
            unlockAchievement('achievement-5');
            
            // Actualizar progreso a 100%
            document.getElementById('progressBar').style.width = '100%';
            document.getElementById('progressText').textContent = '100%';
            
            // Guardar certificado localmente
            const certificate = {
                name: userProfile.fullName,
                code: uniqueCode,
                date: date.toISOString(),
                score: avgScore
            };
            
            localStorage.setItem('scoutCertificate_' + uniqueCode, JSON.stringify(certificate));
        }

        // ============================================
        // COMPARTIR RESULTADOS
        // ============================================
        function shareResults() {
            const text = `¡He completado el Curso de Fundamentos Scout! 🏕️
            
Certificado: ${document.getElementById('certCode').textContent}
Puntuación: ${document.getElementById('finalScore').textContent}%
            
#ScoutsSiempreListos #RoverScout #ASC`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Curso Fundamentos Scout Completado',
                    text: text
                });
            } else {
                navigator.clipboard.writeText(text);
                showNotification('¡Texto copiado al portapapeles! 📋');
            }
        }

        // ============================================
        // REINICIAR CURSO
        // ============================================
        function restartCourse() {
            if (confirm('¿Estás seguro de que quieres reiniciar el curso? Se perderá todo el progreso.')) {
                localStorage.removeItem('scoutCourseProgress_v2');
                localStorage.removeItem('scoutCommitment');
                location.reload();
            }
        }

        // ============================================
        // TIMER PARA TIEMPO DE ESTUDIO
        // ============================================
        setInterval(() => {
            if (currentModule > 0) {
                studyTime += 1;
                updateStats();
            }
        }, 60000); // Cada minuto

        // ============================================
        // GUARDAR AUTOMÁTICAMENTE
        // ============================================
        setInterval(saveProgress, 60000); // Cada minuto

        // ============================================
        // INICIALIZACIÓN
        // ============================================
        window.addEventListener('DOMContentLoaded', function() {
            loadProgress();
            
            // Verificar conexión con Google Sheets
            console.log('✅ Google Sheets configurado y listo');
            console.log('📊 Los datos se sincronizarán automáticamente');
        });

        // ============================================
        // GUARDAR ANTES DE CERRAR
        // ============================================
        window.addEventListener('beforeunload', function() {
            saveProgress();
        });
    </script>
</body>
</html>
